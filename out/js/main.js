!function(a,b){b["true"]=a,this.tpl=this.tpl||{},this.tpl.step1=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h1>Welcome to the Hello bank! Wi-Fi network</h1>\n<div id="hello-logo">\n    <span class="hide">Hello Bank! Mobile, just like you. By BNP Paribas Fortis</span>\n</div>\n<ul class="choose-language">\n    <li><div class="bubble"><a href="#" data-language="nl">Klik hier voor nederlands</a></div></li>\n    <li><div class="bubble"><a href="#" data-language="fr">Cliquez ici pour le français</a></div></li>\n</ul>'}),this.tpl.step2_fr=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="small-logo-wrapper">\n    <div class="small-logo"></div>\n</div>\n<form action="#" id="step2Form">\n    <fieldset>\n        <label for="name" class="francais">Introduisez votre nom *</label>\n        <input type="text" name="name" id="name" required="required" value="',(f=c.name)?f=f.call(b,{hash:{},data:e}):(f=b.name,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n        <label for="firstname" class="francais">Introduisez votre prénom *</label>\n        <input type="text" name="firstname" id="firstname" required="required" value="',(f=c.firstname)?f=f.call(b,{hash:{},data:e}):(f=b.firstname,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n        <label for="email" class="francais">Introduisez votre addresse e-mail *</label>\n        <input type="email" name="email" id="email" required="required" value="',(f=c.email)?f=f.call(b,{hash:{},data:e}):(f=b.email,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n        <span>* obligatoire</span>\n        <input type="submit" value="Continuer" id="step2Submit" />\n    </fieldset>\n</form>'}),this.tpl.step2_nl=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="small-logo-wrapper">\n    <div class="small-logo"></div>\n</div>\n<form action="#" id="step2Form">\n    <fieldset>\n        <label for="name">Voer je naam in *</label>\n        <input type="text" name="name" id="name" required="required" value="',(f=c.name)?f=f.call(b,{hash:{},data:e}):(f=b.name,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n        <label for="firstname">Voer je voornaam in *</label>\n        <input type="text" name="firstname" id="firstname" required="required" value="',(f=c.firstname)?f=f.call(b,{hash:{},data:e}):(f=b.firstname,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n        <label for="email">Voer je e-mailadres in *</label>\n        <input type="email" name="email" id="email" required="required" value="',(f=c.email)?f=f.call(b,{hash:{},data:e}):(f=b.email,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n        <span>* verplicht</span>\n        <input type="submit" value="Ga verder" id="step2Submit" />\n    </fieldset>\n</form>'}),this.tpl.step3_fr=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="small-logo-wrapper">\n    <div class="small-logo"></div>\n</div>\n<p>Profitez du mini abonnement Spotify Premium gratuit et tentez de gagner une tablette.</p>\n\n<form action="#" id="step3Form">\n    <fieldset>\n        <div class="select-wrapper">\n            <label for="question">Choisissez la réponse correcte. Chez Hello bank!</label>\n            <select name="question" id="question">\n                <option value="App gratuite et compte a vu est gratuis">L\'app est gratuite et le compte à vu est gratuit.</option>\n                <option value="App gratuite et compte a vu payant">L\'app est gratuite et le compte à vu est payant.</option>\n                <option value="App payable et compte a vu gratuit">L\'app est payable et la compte à vu est gratuit.</option>\n            </select>\n        </div>\n\n        <label for="code">Introduisez votre code concours</label>\n        <input type="text" name="code" id="code" value="',(f=c.code)?f=f.call(b,{hash:{},data:e}):(f=b.code,f=typeof f===h?f.apply(b):f),g+=i(f)+'" required />\n\n        <br/>\n\n        <label for="downloads" class="small">Combien de fois l\'application sera-t-elle téléchargée sur cet événement?</label>\n        <input type="number" name="downloads" id="downloads" value="',(f=c.downloads)?f=f.call(b,{hash:{},data:e}):(f=b.downloads,f=typeof f===h?f.apply(b):f),g+=i(f)+'" required />\n\n        <span class="info">Règlement du concours disponible à hellobank.be</span>\n        <input type="submit" value="Continuer" id="step3Submit" />\n    </fieldset>\n</form>'}),this.tpl.step3_nl=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="small-logo-wrapper">\n    <div class="small-logo"></div>\n</div>\n<p>Profiteer van een gratis Spotify Premium proefabonnement en maak kans op een tablet</p>\n\n<form action="#" id="step3Form">\n    <fieldset>\n        <div class="select-wrapper">\n            <label for="question">Kies het juiste antwoord. Bij Hello! bank:</label>\n            <select name="question" id="question">\n                <option value="App gratis en zichtrekening gratis">Is de app gratis en de zichtrekening gratis</option>\n                <option value="App betalend en zichtrekening gratis">Is de app betalend en de zichtrekening gratis</option>\n                <option value="App gratis en zichtrekening betalend">Is de app gratis en de zichtrekening betalend</option>\n            </select>\n        </div>\n\n        <label for="code">Voer je wedstrijdcode in</label>\n        <input type="text" name="code" id="code" value="',(f=c.code)?f=f.call(b,{hash:{},data:e}):(f=b.code,f=typeof f===h?f.apply(b):f),g+=i(f)+'" required />\n\n        <br/>\n\n        <label for="downloads" class="small">Hoeveel maal werd de app vandaag op dit event gedownload?</label>\n        <input type="number" name="downloads" id="downloads" value="',(f=c.downloads)?f=f.call(b,{hash:{},data:e}):(f=b.downloads,f=typeof f===h?f.apply(b):f),g+=i(f)+'" required />\n\n        <span class="info">Wedstrijdreglement beschikbaar op hellobank.be</span>\n        <input type="submit" value="Ga verder" id="step3Submit" />\n    </fieldset>\n</form>'}),this.tpl.step4_fr=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="small-logo-wrapper">\n    <div class="small-logo"></div>\n</div>\n<form action="#" id="step4Form">\n    <fieldset>\n        <label for="dob">Introduisez votre date de naissance *</label>\n        <input type="date" name="dob" id="dob" required="required" value="',(f=c.dob)?f=f.call(b,{hash:{},data:e}):(f=b.dob,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n\n        <p class="big">Vour pouvez télécharger l\'app gratuitement sur votre smartphone ou tablette.</p>\n\n        <span>* obligatoire</span>\n        <input type="submit" value="Téléchargez l\'app Hello bank!" id="step4Submit" />\n    </fieldset>\n</form>\n\n<form name="input" method="post" action="http://10.1.10.1:8880/guest/login" class="hide" id="continueFormHidden">\n    <input name="connect" type="submit" value="Download de app Hello bank!" id="connect" class="button requires-tou" />\n</form>'}),this.tpl.step4_nl=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="small-logo-wrapper">\n    <div class="small-logo"></div>\n</div>\n<form action="#" id="step4Form">\n    <fieldset>\n        <label for="dob">Voer je geboortedatum in *</label>\n        <input type="date" name="dob" id="dob" value="',(f=c.dob)?f=f.call(b,{hash:{},data:e}):(f=b.dob,f=typeof f===h?f.apply(b):f),g+=i(f)+'" />\n        <br/>\n\n        <p class="big">Je kan nu gratis de app downloaden voor je smartphone of tablet</p>\n\n        <span>* verplicht</span>\n        <input type="submit" value="Download de app Hello bank!" id="step4Submit" />\n    </fieldset>\n</form>\n\n<form name="input" method="post" action="http://10.1.10.1:8880/guest/login" class="hide" id="continueFormHidden">\n    <input name="connect" type="submit" value="Download de app Hello bank!" id="connect" class="button requires-tou" />\n</form>'});var c=function(){var a=function(){this.URI="http://localhost/xd-it/hello",this.event_identifier="Zaterdag 6 juli op nen boot",this.messages={invalidCode_nl:"Gelieve een wedstrijd code in te vullen, a.u.b",invalidCode_fr:"Introduisez une code concours valide, s.v.p",invalidDownloads_nl:"Gelieve een aantal downloads in te vullen, a.u.b",invalidDownloads_fr:"Introduisez une numerau de télécharges valide, s.v.p",invalidAll_nl:"Gelieve alle velden in te vullen, a.u.b",invalidAll_fr:"Remplir toutes les lignes, s.v.p",loading_nl:"Laden..",loading_fr:"Chargement en cours..",invalidDOB_nl:"Voer uw geboortedatum in, a.u.b",invalidDOB_fr:"Introduisez votre date de naissance, s.v.p",failedConnection_nl:"We konden geen verbinden maken naar onze servers. Onze excuses",failedConnection_fr:"La connection ne marche pas. Notre excuses",invalidName_nl:"Gelieve uw naam en voornaam in te vullen, a.u.b",invalidName_fr:"Introduisez votre nom et prénom, s.v.p",invalidEmail_nl:"Gelieve een geldig email adres in te vullen, a.u.b",invalidEmail_fr:"Introduisez votre addresse e-mail, s.v.p"}};return a}(),d=function(){var a=function(a){_.bindAll(this),this.$rootElement=a,this.settings=new c,this.step=void 0,this.data={language:void 0,name:"",firstname:"",email:"",code:"",downloads:"",answer:void 0,dob:void 0},this.bind(),$(window).hashchange()};return a.prototype.bind=function(){$(window).hashchange(this.processHash)},a.prototype.setLanguage=function(a){this.data.language=a,window.location.hash="step2-"+this.data.language},a.prototype.setEmailAndName=function(a){this.data.name=a.name,this.data.email=a.email,this.data.firstname=a.firstname,a.language!==this.data.language&&(this.data.language=a.language),window.location.hash="step3-"+this.data.language},a.prototype.setAnswerCodeAndDownloads=function(a){this.data.answer=a.answer,this.data.downloads=a.downloads,this.data.code=a.code,a.language!==this.data.language&&(this.data.language=a.language),window.location.hash="step4-"+this.data.language},a.prototype.setDOB=function(a){this.data.dob=a.dob,a.language!==this.data.language&&(this.data.language=a.language),this.saveToServer()},a.prototype.init=function(){this.clean();var a=this;setTimeout(function(){a.step=new e(a.$rootElement),bean.on(a.step,"languagePicked",a.setLanguage),a.step.render(),a.showAgain()},400)},a.prototype.loadStep2=function(){this.clean();var a=this;setTimeout(function(){a.step=new f(a.$rootElement,a.data.language,a.data.name,a.data.firstname,a.data.email),bean.on(a.step,"2done",a.setEmailAndName),a.step.render(),a.showAgain()},400)},a.prototype.loadStep3=function(){this.clean();var a=this;setTimeout(function(){a.step=new g(a.$rootElement,a.data.language,a.data.code,a.data.downloads),bean.on(a.step,"3done",a.setAnswerCodeAndDownloads),a.step.render(),a.showAgain()},400)},a.prototype.loadStep4=function(){this.clean();var a=this;setTimeout(function(){a.step=new h(a.$rootElement,a.data.language),bean.on(a.step,"4done",a.setDOB),a.step.render(),a.showAgain()},400)},a.prototype.saveToServer=function(){this.data.key="20ee696c5e5b2b7f845d3838ff562a6c",this.data.event=this.settings.event_identifier,$.ajax({type:"POST",cache:!1,data:{data:JSON.stringify(this.data)},url:"api/restapi.php/save",success:function(){$("#continueFormHidden").submit()},error:function(a){alert("an error occured "+a)}})},a.prototype.clean=function(){$("#container").addClass("out"),setTimeout(function(){$("#container").html("")},400)},a.prototype.showAgain=function(){$("#container").removeClass("out")},a.prototype.processHash=function(){var a=location.hash;"#step2-nl"===a||"#step2-fr"===a?(this.checkHashForLanguage(),this.loadStep2()):"#step3-nl"===a||"#step3-fr"===a?(this.checkHashForLanguage(),this.loadStep3()):"#step4-nl"===a||"#step4-fr"===a?(this.checkHashForLanguage(),this.loadStep4()):this.init()},a.prototype.checkHashForLanguage=function(){var a=location.hash;if(void 0===this.data.language){var b=a.split("-");this.data.language=b[1]}},a}(),e=function(){var a=function(a){_.bindAll(this),this.$rootElement=a,this.template=tpl.step1};return a.prototype.bind=function(){$(".choose-language a").on("click",this.nextStep)},a.prototype.nextStep=function(a){a.preventDefault();var b=$(a.target).attr("data-language");bean.fire(this,"languagePicked",b)},a.prototype.render=function(){this.$el=$(this.template()).appendTo(this.$rootElement),this.bind()},a}(),f=function(){var a=function(a,b,d,e,f){_.bindAll(this),this.$rootElement=a,this.params={language:b,name:d,firstname:e,email:f},this.settings=new c,this.template=tpl.step2_fr,"nl"===this.params.language&&(this.template=tpl.step2_nl)};return a.prototype.bind=function(){$("#step2Form").submit(this.checkForm)},a.prototype.checkForm=function(a){var b=0,c=!1,d=!1,e=!1;return this.isValidEmailAddress($("#email").val())&&""!==$("#email").val()||(c=!0,b++),""===$("#name").val()&&(d=!0,b++),""===$("#firstname").val()&&(e=!0,b++),d&&e&&c?("nl"===this.params.language&&alert(this.settings.messages.invalidAll_nl),"fr"===this.params.language&&alert(this.settings.messages.invalidAll_fr),!1):((d||e)&&("nl"===this.params.language&&alert(this.settings.messages.invalidName_nl),"fr"===this.params.language&&alert(this.settings.messages.invalidName_fr)),c&&("nl"===this.params.language&&alert(this.settings.messages.invalidEmail_nl),"fr"===this.params.language&&alert(this.settings.messages.invalidEmail_fr)),0===b&&($("#step2Submit").attr("disabled","disabled"),"nl"===this.params.language&&$("#step2Submit").val(this.settings.messages.loading_nl),"fr"===this.params.language&&$("#step2Submit").val(this.settings.messages.loading_fr),this.params.name=$("#name").val(),this.params.email=$("#email").val(),this.params.firstname=$("#firstname").val(),this.nextStep()),a.preventDefault(),void 0)},a.prototype.nextStep=function(){bean.fire(this,"2done",this.params)},a.prototype.render=function(){this.$el=$(this.template({name:this.params.name,firstname:this.params.firstname,email:this.params.email})).appendTo(this.$rootElement),this.bind()},a.prototype.isValidEmailAddress=function(a){var b=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return b.test(a)},a}(),g=function(){var a=function(a,b,d,e){_.bindAll(this),this.$rootElement=a,this.params={language:b,code:d,downloads:e,answer:void 0},this.settings=new c,this.template=tpl.step3_fr,"nl"===this.params.language&&(this.template=tpl.step3_nl)};return a.prototype.bind=function(){$("#step3Form").submit(this.checkForm)},a.prototype.checkForm=function(a){var b=!1,c=!1,d=0;return this.isValidNumber($("#downloads").val())&&""!==$("#downloads").val()||(b=!0,d++),""===$("#code").val()&&(c=!0,d++),c&&b?("nl"===this.params.language&&alert(this.settings.messages.invalidAll_nl),"fr"===this.params.language&&alert(this.settings.messages.invalidAll_fr),!1):(c&&("nl"===this.params.language&&alert(this.settings.messages.invalidCode_nl),"fr"===this.params.language&&alert(this.settings.messages.invalidCode_fr)),b&&("nl"===this.params.language&&alert(this.settings.messages.invalidDownloads_nl),"fr"===this.params.language&&alert(this.settings.messages.invalidDownloads_fr)),0===d&&($("#step3Submit").attr("disabled","disabled"),"nl"===this.params.language&&$("#step3Submit").val(this.settings.messages.loading_nl),"fr"===this.params.language&&$("#step3Submit").val(this.settings.messages.loading_fr),this.params.code=$("#code").val(),this.params.downloads=$("#downloads").val(),this.params.answer=$("#question").val(),this.nextStep()),a.preventDefault(),void 0)},a.prototype.nextStep=function(){bean.fire(this,"3done",this.params)},a.prototype.render=function(){this.$el=$(this.template({code:this.params.code,downloads:this.params.downloads})).appendTo(this.$rootElement),this.bind()},a.prototype.isValidNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a}(),h=function(){var a=function(a,b,d){_.bindAll(this),this.$rootElement=a,this.params={language:b,dob:d},this.settings=new c,this.template=tpl.step4_fr,"nl"===this.params.language&&(this.template=tpl.step4_nl)};return a.prototype.render=function(){this.$el=$(this.template({dob:this.params.dob})).appendTo(this.$rootElement),this.bind()},a.prototype.bind=function(){$("#step4Form").submit(this.checkForm)},a.prototype.checkForm=function(a){var b=!1,c=0;(""===$("#dob").val()||$("#dob").val().length<8)&&(b=!0,c++),b&&("nl"===this.params.language&&alert(this.settings.messages.invalidDOB_nl),"fr"===this.params.language&&alert(this.settings.messages.invalidDOB_fr)),0===c&&($("#step4Submit").attr("disabled","disabled"),"nl"===this.params.language&&$("#step4Submit").val(this.settings.messages.loading_nl),"fr"===this.params.language&&$("#step4Submit").val(this.settings.messages.loading_fr),this.params.dob=$("#dob").val(),this.nextStep()),a.preventDefault()},a.prototype.nextStep=function(){bean.fire(this,"4done",this.params)},a}();new d($("#container"))}({},function(){return this}());